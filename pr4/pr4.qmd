---
title: "Лабораторная работа №4. Исследование метаданных DNS трафика"
format:   
  md:
    output-file: README.md
editor_options: 
  chunk_output_type: inline
---

## Цель работы

1. Закрепить практические навыки использования языка программирования R для обработки данных
2. Закрепить знания основных функций обработки данных экосистемы tidyverse языка R
3. Закрепить навыки исследования метаданных DNS трафика

## Исходные данные

-   Windows 10
-   RStudio

## Ход работы

Устанавливаем пакеты *dplyr*, *tidyr* и *tidyverse* для последующей работы
```{r}
library(dplyr)
library(tidyr)
library(tidyverse)
```
 
Встраиваем названия столбцов из header.csv в dng.log
```{r}
data <- read.csv("dns.log", sep="\t", header=FALSE)
header <- read.csv("header.csv")
colnames(data) <- header[,1]
data %>% head(1)
```
### Сколько участников информационного обмена в сети Доброй Организации?
```{r}
result <- data %>%
  select(id1_orig, id3_host) %>%
  gather(key = "id", value = "IP") %>%
  count(IP, sort = TRUE)
print(result) %>%
  head(10)
```


### Какое соотношение участников обмена внутри сети и участников обращений к внешним ресурсам?
```{r}
kResponse <- data %>%
  filter(data$QR == TRUE) %>%
  summarise(k = n())
kResponse/nrow(data)
```

### Найдите топ-10 участников сети, проявляющих наибольшую сетевую активность
```{r}
result <- data %>%
  select(id1_orig, id3_host) %>%
  gather(key = "id", value = "IP") %>%
  count(IP, sort = TRUE) %>%
  head(10)
result
```

### Найдите топ-10 доменов, к которым обращаются пользователи сети и соответственное количество обращений
```{r}
domain_counts <- data %>%
  group_by(query) %>%
  summarise(count = n()) %>%
  arrange(desc(count)) %>%
  head(10)
domain_counts
```

### Опеределите базовые статистические характеристики (функция summary()) интервала времени между последовательным обращениями к топ-10 доменам
```{r}

```








```{r}

```







```{r}

```








## Оценка результата

Задание было выполнено

## Вывод

Были развиты практические навыки использования языка программирования R для обработки данных
